# 1.导入数据库
加载`mysql_02.sql`文件中的数据，需要在 MySQL 控制台中输入命令:
```
source /home/lzy/mysql_02.sql
```
# 2.对数据库的修改

使用命令 `show databases;` 可以看到刚才运行 `mysql_02.sql` 文件生成的两个数据库：
```
+--------------------+
| Database           |
+--------------------+
| information_schema |
| gradesystem        |
| mysql              |
| mysql_01           |
| mysql_02           |
| mysql_lzy          |
| performance_schema |
| test_01            |
+--------------------+
```
现在我们运行命令删除名为 `test_01` 的数据库：
```
drop database test_01;
```
再次使用命令 `show databases;` 可以发现，`test_01` 数据库已经被成功删除:
```
+--------------------+
| Database           |
+--------------------+
| information_schema |
| gradesystem        |
| mysql              |
| mysql_01           |
| mysql_02           |
| mysql_lzy          |
| performance_schema |
+--------------------+
7 rows in set (0.00 sec)
```
# 3.重命名一张表

重命名一张表的语句有多种形式，以下 3 种格式效果是一样的：
```
rename table 原名 to 新名字;

alter table 原名 rename 新名;

alter table 原名 rename to 新名;
```
经过`use mysql_02;`,`show mysql_02;`,`show tables;`后会成功显示：
```
+--------------------+
| Tables_in_mysql_02 |
+--------------------+
| department         |
| employee           |
| project            |
| table_1            |
+--------------------+
4 rows in set (0.00 sec)
```
使用命令尝试修改 table_1 的名字为 table_2 ：
```
rename table table_1 to table_2;
```
```
show tables;
```
显示：
```
+--------------------+
| Tables_in_mysql_02 |
+--------------------+
| department         |
| employee           |
| project            |
| table_2            |
+--------------------+
4 rows in set (0.00 sec)
```
# 4.删除一张表

删除一张表的语句，类似于刚才用过的删除数据库的语句，格式是这样的：
```
DROP TABLE 表名字;
```
比如我们把 table_2 表删除：
```
drop table_2;
```
显示：
```
+--------------------+
| Tables_in_mysql_02 |
+--------------------+
| department         |
| employee           |
| project            |
+--------------------+
3 rows in set (0.00 sec)
```
# 5.增加一列

在表中增加一列的语句格式为：
```
ALTER TABLE 表名字 ADD COLUMN 列名字 数据类型 约束;

或： ALTER TABLE 表名字 ADD 列名字 数据类型 约束;
```
现在 employee 表中有 `id、name、age、salary、phone、in_dpt` 这6个列，我们尝试加入 `height `(身高)一个列并指定DEFAULT 约束：
```
alter table employee add height INT(4) default 170;
```
显示：
```
Query OK, 6 rows affected (0.13 sec)
Records: 6  Duplicates: 0  Warnings: 0
```
可以发现：新增加的列，被默认放置在这张表的最右边。如果要把增加的列插入在指定位置，则需要在语句的最后使用AFTER关键词(“AFTER 列1” 表示新增的列被放置在 “列1” 的后面)。
执行 `select *from employee;`:
显示：
```
+----+------+------+--------+--------+--------+--------+
| id | name | age  | salary | phone  | in_dpt | height |
+----+------+------+--------+--------+--------+--------+
|  1 | Tom  |   26 |   2500 | 119119 | dpt4   |    170 |
|  2 | Jack |   24 |   2500 | 120120 | dpt2   |    170 |
|  3 | Rose |   22 |   2800 | 114114 | dpt3   |    170 |
|  4 | Jim  |   35 |   3000 | 100861 | dpt1   |    170 |
|  5 | Mary |   21 |   3000 | 100101 | dpt2   |    170 |
|  6 | Alex |   26 |   3000 | 123456 | dpt1   |    170 |
+----+------+------+--------+--------+--------+--------+
6 rows in set (0.07 sec)
```
比如我们新增一列 `weight `(体重)放置在 `age` (年龄)的后面：
```
alter table employee add weight int(4) default 120 after age;
```
显示:
```
Query OK, 6 rows affected (0.07 sec)
Records: 6  Duplicates: 0  Warnings: 0
```
显示一下表:
```
+----+------+------+--------+--------+--------+--------+--------+
| id | name | age  | weight | salary | phone  | in_dpt | height |
+----+------+------+--------+--------+--------+--------+--------+
|  1 | Tom  |   26 |    120 |   2500 | 119119 | dpt4   |    170 |
|  2 | Jack |   24 |    120 |   2500 | 120120 | dpt2   |    170 |
|  3 | Rose |   22 |    120 |   2800 | 114114 | dpt3   |    170 |
|  4 | Jim  |   35 |    120 |   3000 | 100861 | dpt1   |    170 |
|  5 | Mary |   21 |    120 |   3000 | 100101 | dpt2   |    170 |
|  6 | Alex |   26 |    120 |   3000 | 123456 | dpt1   |    170 |
+----+------+------+--------+--------+--------+--------+--------+
6 rows in set (0.00 sec)
```
上面的效果是把新增的列加在某位置的后面，如果想放在第一列的位置，则使用 `FIRST `关键词，如语句：
```
ALTER TABLE employee ADD test INT(10) DEFAULT 11 FIRST;
```
有select语句查看一下，效果如下：
```
+------+----+------+------+--------+--------+--------+--------+--------+
| test | id | name | age  | weight | salary | phone  | in_dpt | height |
+------+----+------+------+--------+--------+--------+--------+--------+
|   11 |  1 | Tom  |   26 |    120 |   2500 | 119119 | dpt4   |    170 |
|   11 |  2 | Jack |   24 |    120 |   2500 | 120120 | dpt2   |    170 |
|   11 |  3 | Rose |   22 |    120 |   2800 | 114114 | dpt3   |    170 |
|   11 |  4 | Jim  |   35 |    120 |   3000 | 100861 | dpt1   |    170 |
|   11 |  5 | Mary |   21 |    120 |   3000 | 100101 | dpt2   |    170 |
|   11 |  6 | Alex |   26 |    120 |   3000 | 123456 | dpt1   |    170 |
+------+----+------+------+--------+--------+--------+--------+--------+
6 rows in set (0.00 sec)
```
# 6.删除一列

删除表中的一列和刚才使用的新增一列的语句格式十分相似，只是把关键词 `ADD `改为 `DROP` ，语句后面不需要有数据类型、约束或位置信息。具体语句格式：
```
ALTER TABLE 表名字 DROP COLUMN 列名字;

或： ALTER TABLE 表名字 DROP 列名字;
```
把刚才新增的 `test` 删除：
执行：
```
alter table employee drop test;
```
用select语句查看显示:
```
+----+------+------+--------+--------+--------+--------+--------+
| id | name | age  | weight | salary | phone  | in_dpt | height |
+----+------+------+--------+--------+--------+--------+--------+
|  1 | Tom  |   26 |    120 |   2500 | 119119 | dpt4   |    170 |
|  2 | Jack |   24 |    120 |   2500 | 120120 | dpt2   |    170 |
|  3 | Rose |   22 |    120 |   2800 | 114114 | dpt3   |    170 |
|  4 | Jim  |   35 |    120 |   3000 | 100861 | dpt1   |    170 |
|  5 | Mary |   21 |    120 |   3000 | 100101 | dpt2   |    170 |
|  6 | Alex |   26 |    120 |   3000 | 123456 | dpt1   |    170 |
+----+------+------+--------+--------+--------+--------+--------+
6 rows in set (0.00 sec)
```
# 7.重命名一列

这条语句其实不只可用于重命名一列，准确地说，它是对一个列做修改(CHANGE) ：
```
ALTER TABLE 表名字 CHANGE 原列名 新列名 数据类型 约束;
```
注意：这条重命名语句后面的 “数据类型” 不能省略，否则重命名失败。

当原列名和新列名相同的时候，指定新的数据类型或约束，就可以用于修改数据类型或约束。需要注意的是，修改数据类型可能会导致数据丢失，所以要慎重使用。

我们用这条语句将 “height” 一列重命名为汉语拼音 “shengao” ，效果如下：
执行语句：
```
alter table employee change height shengao INT(4) default 170;
```
用select语句显示一下：
```
+----+------+------+--------+--------+--------+--------+---------+
| id | name | age  | weight | salary | phone  | in_dpt | shengao |
+----+------+------+--------+--------+--------+--------+---------+
|  1 | Tom  |   26 |    120 |   2500 | 119119 | dpt4   |     170 |
|  2 | Jack |   24 |    120 |   2500 | 120120 | dpt2   |     170 |
|  3 | Rose |   22 |    120 |   2800 | 114114 | dpt3   |     170 |
|  4 | Jim  |   35 |    120 |   3000 | 100861 | dpt1   |     170 |
|  5 | Mary |   21 |    120 |   3000 | 100101 | dpt2   |     170 |
|  6 | Alex |   26 |    120 |   3000 | 123456 | dpt1   |     170 |
+----+------+------+--------+--------+--------+--------+---------+
6 rows in set (0.00 sec)
```
# 8.改变数据类型

要修改一列的数据类型，除了使用刚才的 CHANGE 语句外，还可以用这样的 MODIFY 语句：
```
ALTER TABLE 表名字 MODIFY 列名字 新数据类型;
```
再次提醒，修改数据类型必须小心，因为这可能会导致数据丢失。在尝试修改数据类型之前，请慎重考虑。

# 9.修改表中某个值

大多数时候我们需要做修改的不会是整个数据库或整张表，而是表中的某一个或几个数据，这就需要我们用下面这条命令达到精确的修改：
```
UPDATE 表名字 SET 列1=值1,列2=值2 WHERE 条件;
```
比如，我们要把 Tom 的 age 改为 21，salary 改为 3000：
首先：
```
 select *from employee where name = 'Tom';
```
显示:
```
+----+------+------+--------+--------+--------+--------+---------+
| id | name | age  | weight | salary | phone  | in_dpt | shengao |
+----+------+------+--------+--------+--------+--------+---------+
|  1 | Tom  |   26 |    120 |   2500 | 119119 | dpt4   |     170 |
+----+------+------+--------+--------+--------+--------+---------+
1 row in set (0.10 sec)
```
然后执行：
```
update employee set age = 21 ,salary = 3000 where name ='Tom';
```
再用select显示一下：
```
select *from employee where name='Tom';
```
显示：
```
+----+------+------+--------+--------+--------+--------+---------+
| id | name | age  | weight | salary | phone  | in_dpt | shengao |
+----+------+------+--------+--------+--------+--------+---------+
|  1 | Tom  |   21 |    120 |   3000 | 119119 | dpt4   |     170 |
+----+------+------+--------+--------+--------+--------+---------+
1 row in set (0.00 sec)
```
注意：一定要有WHERE条件，否则会出现你不想看到的后果

# 10. 删除一行记录

删除表中的一行数据，也必须加上WHERE条件，否则整列的数据都会被删除。删除语句：
```
DELETE FROM 表名字 WHERE 条件;
```
尝试把Tom的数据删除：
```
delete from employee where name = 'Tom';
```
再用select语句显示一下：
```
+----+------+------+--------+--------+--------+--------+---------+
| id | name | age  | weight | salary | phone  | in_dpt | shengao |
+----+------+------+--------+--------+--------+--------+---------+
|  2 | Jack |   24 |    120 |   2500 | 120120 | dpt2   |     170 |
|  3 | Rose |   22 |    120 |   2800 | 114114 | dpt3   |     170 |
|  4 | Jim  |   35 |    120 |   3000 | 100861 | dpt1   |     170 |
|  5 | Mary |   21 |    120 |   3000 | 100101 | dpt2   |     170 |
|  6 | Alex |   26 |    120 |   3000 | 123456 | dpt1   |     170 |
+----+------+------+--------+--------+--------+--------+---------+
5 rows in set (0.00 sec)
```
